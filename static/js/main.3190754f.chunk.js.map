{"version":3,"sources":["component/Bath/index.tsx","component/NameTag/index.tsx","component/Calendar/index.tsx","component/EventUser/index.tsx","logic/firebase.tsx","logic/access.tsx","component/EventLog/index.tsx","index.js"],"names":["toasterRef","NameTag","props","intent","name","Intent","PRIMARY","SUCCESS","large","Calendar","timePickerProps","date","Date","highlightCurrentDay","reverseMonthAndYearMenus","shortcuts","showActionsBar","showTimeArrowButtons","timePrecision","undefined","useAmPm","className","Classes","ELEVATION_1","onChange","setNewDate","EventUser","eventUser","Fragment","round","toLocaleDateString","firebaseApp","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","store","getFirestore","eventLogIndex","getAppStateSnapshot","documentName","a","docRef","doc","getDoc","docSnapshot","exists","data","getEventLogSnapshot","storeCollection","collection","storeQuery","query","orderBy","getDocs","storeSnapshot","docs","map","getEventLog","eventDateLog","convertedDataform","log","EventTime","seconds","text","EventLog","length","getEventState","list","eventDate","EventDate","eventName","EventName","addEvent","currentDate","userName","stateLogDocRef","setDoc","eventLogDocRef","useState","logState","setLogState","logVisiblity","setLogVisiblity","useEffect","then","onClick","minimal","outlined","isOpen","e","i","toLocaleString","countingDays","from","fromDay","getFullYear","getMonth","getDay","diff","getTime","sign","Math","floor","abs","Bath","checkDate","setDate","dayPassed","todayState","setTodayState","eventState","setEventState","getEventContext","console","addToast","toastBuild","icon","message","timeout","show","ref","autoFocus","position","Position","TOP","usePortal","align","Alignment","LEFT","MINIMAL","vertical","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yJA2DIA,E,iGCzDSC,EAAU,SAACC,GACtB,OACE,gCACE,6CACA,cAAC,IAAD,CACEC,OAAuB,UAAfD,EAAME,KAAmBC,IAAOC,QAAUD,IAAOE,QACzDC,OAAO,EAFT,SAIGN,EAAME,W,gBCPFK,EAAW,SAACP,GACrB,IAMMQ,EAAkB,CACpBC,KAAM,IAAIC,KACVC,qBAAqB,EACrBC,0BAA0B,EAC1BC,WAAW,EACXC,gBAAgB,EAChBC,sBAAsB,EACtBC,mBAAeC,EACfC,SAAS,GAGb,OACI,qBAAKC,UAAU,0BAAf,SACI,cAAC,IAAD,aACIA,UAAWC,IAAQC,YACnBC,SArBU,SAACb,GACfA,GACAT,EAAMuB,WAAWd,KAoBTD,OCvBPgB,EAAY,SAACxB,GAGxB,IAAMC,EACqB,UAAzBD,EAAMyB,UAAUvB,KAAmBC,IAAOC,QAAUD,IAAOE,QAE7D,OACE,cAAC,IAAMqB,SAAP,UACE,+BACE,cAAC,IAAD,CAAgCC,OAAO,EAAO1B,OAAQA,EAAtD,SACGD,EAAMyB,UAAUvB,MADTF,EAAMyB,UAAUvB,MAEnB,IAHT,WAIWF,EAAMyB,UAAUhB,KAAKmB,2B,QCOvBC,EAHKC,YAXU,CAC1BC,OAAQC,0CACRC,WAAYD,kCACZE,UAAWF,kBACXG,cAAeH,8BACfI,kBAAmBJ,eACnBK,MAAOL,4CACPM,cAAeN,iB,QCFbO,EAAQC,YAAaX,GACvBY,EAAgB,EAEdC,EAAmB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DAElBC,EAASC,YACbP,EACAP,WACAW,GALsB,SAOEI,YAAOF,GAPT,YAOlBG,EAPkB,QAQRC,SARQ,yCASfD,EAAYE,QATG,4DAYjBjC,GAZiB,4CAAH,sDAgBnBkC,EAAmB,uCAAG,gCAAAP,EAAA,6DAElBQ,EAAkBC,YACtBd,EACAP,YAGIsB,EAAaC,YAAMH,EAAiBI,YAAQ,YAAa,SAPvC,SAQIC,YAAQH,GARZ,cAQlBI,EARkB,yBASjBA,EAAcC,KAAKC,KAAI,SAACd,GAAD,OAASA,EAAII,WATnB,qCAWjBjC,GAXiB,4CAAH,qDAeZ4C,EAAW,uCAAG,8BAAAjB,EAAA,sEACAO,IADA,YACrBW,EADqB,+BAGjBC,EAAoBD,EAAaF,KAAI,SAACI,GAC1C,MAAO,CACLvD,KAAM,IAAIC,KAA6B,IAAxBsD,EAAIC,UAAUC,SAC7BC,KAAMH,EAAII,aAId3B,EAAgBsB,EAAkBM,OAAS,EAVpB,kBAWhBN,GAXgB,gCAahB,IAbgB,4CAAH,qDAiBXO,EAAa,uCAAG,4BAAA1B,EAAA,sEACVF,EAAoB,YADV,YACvB6B,EADuB,iDAGlB,CACLC,UAAW,IAAI9D,KAA8B,IAAzB6D,EAAKE,UAAUP,SACnCQ,UAAWH,EAAKI,YALO,gCAQlB,CACLH,UAAW,IAAI9D,KAAK,YACpBgE,UAAW,cAVY,2CAAH,qDAsDbE,EAAQ,uCAAG,WAAOC,EAAmBC,GAA1B,iBAAAlC,EAAA,6DAEdmC,EAAiBjC,YACrBP,EACAP,WACA,YALkB,SAOdgD,YAAOD,EAAgB,CAC3BN,UAAWI,EACXF,UAAWG,IATO,cAaZG,EAAiBnC,YACrBP,EACAP,WAFwB,eAGhBS,IAhBQ,SAkBZuC,YAAOC,EAAgB,CAC3BhB,UAAWY,EACXT,SAAS,OAAD,OAASU,KApBD,gCAwBb,CAAErE,KAAMoE,EAAa3E,KAAM4E,IAxBd,sCA0Bb7D,GA1Ba,4CAAH,wDClHRmD,EAAW,SAACpE,GACvB,IACA,EAAgCkF,mBADa,IAC7C,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAwCF,oBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KAQA,OANAC,qBAAU,WACR1B,IAAc2B,MAAK,SAACxB,GAClBoB,EAAYpB,QAEb,CAAChE,IAGF,gCACE,cAAC,IAAD,CACEyF,QAAS,kBAAMH,GAAiBD,IAChCK,SAAS,EACTC,UAAU,EAHZ,SAKGN,EAAe,qBAAQ,uBAE1B,cAAC,IAAD,CAAUO,OAAQP,EAAlB,SACE,8BACGF,EAASvB,KAAI,SAACiC,EAAGC,GAChB,OACE,eAAC,IAAD,eACID,EAAEpF,KAAKsF,iBADX,KAC+BF,EAAE1B,OADtB2B,gB,gBNAnBE,G,4BAAe,SAACvF,EAAYwF,GAChC,IAAMC,EAAU,IAAIxF,KAAKuF,EAAKE,cAAeF,EAAKG,WAAYH,EAAKI,UAO7DC,GANa,IAAI5F,KACrBD,EAAK0F,cACL1F,EAAK2F,WACL3F,EAAK4F,UAGkBE,UAAYL,EAAQK,WAD7B,MAEVC,EAAOC,KAAKD,KAAKF,GACvB,OAAOG,KAAKC,MAAMD,KAAKE,IAAIL,IAASE,IAoIvBI,EA7GF,WACX,MAA6B1B,mBAAe,IAAIxE,MAAhD,mBAAOmG,EAAP,KAAkBC,EAAlB,KACA,EAAoC5B,mBAAS,CAC3ChF,KAAM,GACN6G,UAAW,IAFb,mBAAOC,EAAP,KAAmBC,EAAnB,KAIA,EAAoC/B,mBAAS,CAC3CzE,KAAM,IAAIC,KAAK,YACfR,KAAM,cAFR,mBAAOgH,EAAP,KAAmBC,EAAnB,KAKMC,EAAe,uCAAG,kCAAAxE,EAAA,sEACiB0B,IADjB,gBACdE,EADc,EACdA,UAAWE,EADG,EACHA,UAKnByC,EAAc,CAAE1G,KAAM+D,EAAWtE,KAAMwE,IAEjCqC,EAAYf,EAAaa,EAAWrC,GAvCjByB,EAwCKvB,EAC9BuC,EAAc,CAAE/G,KADG6G,EAvCV,IAAM,EACF,UAATd,EACK,QAEA,QAGI,UAATA,EACK,QAEA,QA8Bac,cAVA,iCA/BZ,IAAed,IA+BH,OAAH,qDAarBV,qBAAU,WACR6B,MAEC,CAACP,IAEJ,IAAMpB,EAAU,SAACvF,GACf0E,EAAS,IAAIlE,KAAQR,GAAMsF,MAAK,SAACK,GAC3BA,IACFwB,QAAQrD,IAAR,UAAe6B,EAAEpF,KAAjB,aAA0BoF,EAAE3F,OAE5BkH,IAAkB5B,MAAK,SAACK,GACtByB,YAMFC,EAA0B,CAC9BC,KAAM,OACNvH,OAAQE,IAAOE,QACfoH,QAAQ,4BAAD,OAAUP,EAAWhH,KAArB,0CACPwH,QAAS,KASLJ,EAAW,WACXxH,GACFA,EAAW6H,KAAKJ,IAIpB,OACE,sBAAKpG,UAAU,WAAf,UACE,cAAC,IAAD,CACEyG,IAboB,SAACA,GACzB9H,EAAa8H,GAaTC,WAAW,EACXC,SAAUC,IAASC,IACnBC,WAAW,IAEb,cAAC,IAAD,UACE,eAAC,IAAD,CAAaC,MAAOC,IAAUC,KAA9B,UACE,cAAC,IAAD,yBACA,cAAC,IAAD,IACA,cAAC,IAAD,CACEjH,UAAWC,IAAQiH,QACnBb,KAAK,OACLrD,KAAK,OACLlE,OAAO,iBAIb,8BACE,eAAC,IAAD,CAAMkB,UAAU,kCAAhB,UACE,uCACE,cAAC,EAAD,CAASjB,KAAM8G,EAAW9G,OAC1B,gCAAM8G,EAAWD,UAAjB,qBAEF,cAAC,EAAD,CAAWtF,UAAWyF,IACtB,cAAC,EAAD,CAAU3F,WAAYuF,SAI1B,eAAC,IAAD,CAAawB,UAAU,EAAOhI,OAAO,EAArC,UACE,cAAC,IAAD,IACA,cAAC,IAAD,CAAQL,OAAQ,UAAWwF,QAAS,kBAAMA,EAAQ,UAAlD,2BAGA,cAAC,IAAD,CAAQxF,OAAQ,UAAWwF,QAAS,kBAAMA,EAAQ,UAAlD,8BAKF,cAAC,IAAD,IACA,8BACE,cAAC,EAAD,eAAcyB,U,OO/JtBqB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3190754f.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { NameTag } from \"component/NameTag\";\r\nimport { Calendar } from \"component/Calendar\";\r\nimport { EventUser } from \"component/EventUser\";\r\nimport { EventLog } from \"component/EventLog\";\r\nimport {\r\n  Card,\r\n  ButtonGroup,\r\n  Button,\r\n  Divider,\r\n  Navbar,\r\n  NavbarGroup,\r\n  NavbarHeading,\r\n  NavbarDivider,\r\n  Alignment,\r\n  Classes,\r\n  Intent,\r\n  Toaster,\r\n  Position,\r\n  IToastProps,\r\n} from \"@blueprintjs/core\";\r\nimport { addEvent, getEventState } from \"logic/access\";\r\nimport \"./style.css\";\r\n\r\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\r\nimport \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\nimport \"@blueprintjs/datetime/lib/css/blueprint-datetime.css\";\r\n\r\nconst countingDays = (date: Date, from: Date) => {\r\n  const fromDay = new Date(from.getFullYear(), from.getMonth(), from.getDay());\r\n  const currentDay = new Date(\r\n    date.getFullYear(),\r\n    date.getMonth(),\r\n    date.getDay()\r\n  );\r\n  const one_day = 1000 * 60 * 60 * 24;\r\n  const diff = (currentDay.getTime() - fromDay.getTime()) / one_day;\r\n  const sign = Math.sign(diff);\r\n  return Math.floor(Math.abs(diff)) * sign;\r\n};\r\n\r\nconst whoIs = (days: number, from: string) => {\r\n  if (days % 2 === 0) {\r\n    if (from === \"james\") {\r\n      return \"james\";\r\n    } else {\r\n      return \"henry\";\r\n    }\r\n  } else {\r\n    if (from === \"james\") {\r\n      return \"henry\";\r\n    } else {\r\n      return \"james\";\r\n    }\r\n  }\r\n};\r\n\r\n// useRef 와는 다르다.\r\n// 블루프린트는 ref 를 설정할 수 없다.\r\nlet toasterRef: Toaster;\r\n\r\nconst Bath = () => {\r\n  const [checkDate, setDate] = useState<Date>(new Date());\r\n  const [todayState, setTodayState] = useState({\r\n    name: \"\",\r\n    dayPassed: 0,\r\n  });\r\n  const [eventState, setEventState] = useState({\r\n    date: new Date(\"1997-1-1\"),\r\n    name: \"undefined\",\r\n  });\r\n\r\n  const getEventContext = async () => {\r\n    const { eventDate, eventName } = await getEventState();\r\n\r\n    // const log = `get context {${eventDate}: ${eventName}}`;\r\n    // console.log(log);\r\n\r\n    setEventState({ date: eventDate, name: eventName });\r\n\r\n    const dayPassed = countingDays(checkDate, eventDate);\r\n    const name = whoIs(dayPassed, eventName);\r\n    setTodayState({ name, dayPassed });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEventContext();\r\n    // eslint-disable-next-line\r\n  }, [checkDate]);\r\n\r\n  const onClick = (name: string) => {\r\n    addEvent(new Date(), name).then((e) => {\r\n      if (e) {\r\n        console.log(`${e.date}, ${e.name}`);\r\n\r\n        getEventContext().then((e) => {\r\n          addToast();\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const toastBuild: IToastProps = {\r\n    icon: \"tick\",\r\n    intent: Intent.SUCCESS,\r\n    message: `오늘부터 ${eventState.name}가 사용합니다.`,\r\n    timeout: 3000,\r\n  };\r\n\r\n  // this 를 넘겨주는 처리를 어떻게 할 수 있을까?\r\n  // clas-component 에서는 this 를 주고 받고 할 수 있었는데 그 방법으로 될 가능성이 있다.\r\n  const toasterRefHandler = (ref: Toaster) => {\r\n    toasterRef = ref;\r\n  };\r\n\r\n  const addToast = () => {\r\n    if (toasterRef) {\r\n      toasterRef.show(toastBuild);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bath-app\">\r\n      <Toaster\r\n        ref={toasterRefHandler}\r\n        autoFocus={false}\r\n        position={Position.TOP}\r\n        usePortal={false}\r\n      />\r\n      <Navbar>\r\n        <NavbarGroup align={Alignment.LEFT}>\r\n          <NavbarHeading>Home Funny</NavbarHeading>\r\n          <NavbarDivider />\r\n          <Button\r\n            className={Classes.MINIMAL}\r\n            icon=\"home\"\r\n            text=\"Home\"\r\n            intent=\"primary\"\r\n          />\r\n        </NavbarGroup>\r\n      </Navbar>\r\n      <div>\r\n        <Card className=\"bp3-text-large bp3-running-text\">\r\n          <blockquote>\r\n            <NameTag name={todayState.name} />\r\n            <div>{todayState.dayPassed} days passed</div>\r\n          </blockquote>\r\n          <EventUser eventUser={eventState} />\r\n          <Calendar setNewDate={setDate} />\r\n        </Card>\r\n      </div>\r\n\r\n      <ButtonGroup vertical={false} large={true}>\r\n        <Divider />\r\n        <Button intent={\"success\"} onClick={() => onClick(\"james\")}>\r\n          james confirm\r\n        </Button>\r\n        <Button intent={\"primary\"} onClick={() => onClick(\"henry\")}>\r\n          henry confirm\r\n        </Button>\r\n      </ButtonGroup>\r\n\r\n      <Divider />\r\n      <div>\r\n        <EventLog {...eventState} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bath;\r\n","import { Tag, Intent } from \"@blueprintjs/core\";\r\n\r\nexport const NameTag = (props: { name: string }) => {\r\n  return (\r\n    <div>\r\n      <span>today is </span>\r\n      <Tag\r\n        intent={props.name === \"james\" ? Intent.PRIMARY : Intent.SUCCESS}\r\n        large={true}\r\n      >\r\n        {props.name}\r\n      </Tag>\r\n    </div>\r\n  );\r\n};\r\n","import { Classes } from '@blueprintjs/core';\r\nimport { DatePicker } from \"@blueprintjs/datetime\"\r\n\r\nexport const Calendar = (props:{setNewDate:any}) => {\r\n    const onDateChanged = (date:Date) => {\r\n        if (date) {\r\n            props.setNewDate(date);\r\n        }\r\n    }\r\n\r\n    const timePickerProps = {\r\n        date: new Date(),\r\n        highlightCurrentDay: true,\r\n        reverseMonthAndYearMenus: false,\r\n        shortcuts: false,\r\n        showActionsBar: false,\r\n        showTimeArrowButtons: false,\r\n        timePrecision: undefined,\r\n        useAmPm: false,\r\n    };\r\n\r\n    return (\r\n        <div className=\"bath-calendar-container\">\r\n            <DatePicker\r\n                className={Classes.ELEVATION_1}\r\n                onChange={onDateChanged}\r\n                {...timePickerProps}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { Tag, Intent } from \"@blueprintjs/core\";\r\n\r\nexport const EventUser = (props: {\r\n  eventUser: { date: Date; name: string };\r\n}) => {\r\n  const intent =\r\n    props.eventUser.name === \"james\" ? Intent.PRIMARY : Intent.SUCCESS;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        <Tag key={props.eventUser.name} round={false} intent={intent}>\r\n          {props.eventUser.name}\r\n        </Tag>{\" \"}\r\n        was use {props.eventUser.date.toLocaleDateString()}\r\n      </h5>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp, } from \"firebase/app\";\r\n//import { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\n//const analytics = getAnalytics(firebaseApp);\r\n\r\nexport default firebaseApp;\r\n","import firebaseApp from \"./firebase\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  where,\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  orderBy,\r\n} from \"firebase/firestore/lite\";\r\n\r\nconst store = getFirestore(firebaseApp);\r\nlet eventLogIndex = 0;\r\n\r\nconst getAppStateSnapshot = async (documentName: string) => {\r\n  if (process.env.REACT_APP_COLLECTION_APP_STATE) {\r\n    const docRef = doc(\r\n      store,\r\n      process.env.REACT_APP_COLLECTION_APP_STATE,\r\n      documentName\r\n    );\r\n    const docSnapshot = await getDoc(docRef);\r\n    if (docSnapshot.exists()) {\r\n      return docSnapshot.data();\r\n    }\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nconst getEventLogSnapshot = async () => {\r\n  if (process.env.REACT_APP_COLLECTION_EVENT_LOG) {\r\n    const storeCollection = collection(\r\n      store,\r\n      process.env.REACT_APP_COLLECTION_EVENT_LOG\r\n    );\r\n    //const storeSnapshot = await getDocs(storeCollection);\r\n    const storeQuery = query(storeCollection, orderBy(\"EventTime\", \"desc\"));\r\n    const storeSnapshot = await getDocs(storeQuery);\r\n    return storeSnapshot.docs.map((doc) => doc.data());\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const getEventLog = async () => {\r\n  let eventDateLog = await getEventLogSnapshot();\r\n  if (eventDateLog) {\r\n    const convertedDataform = eventDateLog.map((log) => {\r\n      return {\r\n        date: new Date(log.EventTime.seconds * 1000),\r\n        text: log.EventLog,\r\n      };\r\n    });\r\n\r\n    eventLogIndex = convertedDataform.length + 1;\r\n    return convertedDataform;\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getEventState = async () => {\r\n  let list = await getAppStateSnapshot(\"stateLog\");\r\n  if (list) {\r\n    return {\r\n      eventDate: new Date(list.EventDate.seconds * 1000),\r\n      eventName: list.EventName,\r\n    };\r\n  } else {\r\n    return {\r\n      eventDate: new Date(\"1917-1-1\"),\r\n      eventName: \"undefined\",\r\n    };\r\n  }\r\n};\r\n\r\nexport const queryDocument = async (eventId: number) => {\r\n  if (process.env.REACT_APP_COLLECTION_NAME) {\r\n    const collectionStore = collection(\r\n      store,\r\n      process.env.REACT_APP_COLLECTION_NAME\r\n    );\r\n    const queried = query(collectionStore, where(\"eventId\", \"==\", eventId));\r\n\r\n    const querySnapshot = await getDocs(queried);\r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      console.log(doc.id, \"=>\", data);\r\n    });\r\n  }\r\n};\r\n\r\n// class EventLog {\r\n//   date: Date;\r\n//   log: string;\r\n\r\n//   constructor(date: Date, log: string) {\r\n//     this.date = date;\r\n//     this.log = log;\r\n//   }\r\n// }\r\n\r\n// const EventLogSerializer = {\r\n//     toFirebase: (eventLog : EventLog) => {\r\n//         return {\r\n//             date: eventLog.date,\r\n//             log: eventLog.log,\r\n//         }\r\n//     },\r\n//     fromFirebase: (snapshot: DocumentData, options: any) => {\r\n//         const data = snapshot.data(options);\r\n//         return new EventLog(data.date, data.log);\r\n//     }\r\n// };\r\n\r\nexport const addEvent = async (currentDate: Date, userName: string) => {\r\n  if (process.env.REACT_APP_COLLECTION_APP_STATE) {\r\n    const stateLogDocRef = doc(\r\n      store,\r\n      process.env.REACT_APP_COLLECTION_APP_STATE,\r\n      \"stateLog\"\r\n    );\r\n    await setDoc(stateLogDocRef, {\r\n      EventDate: currentDate,\r\n      EventName: userName,\r\n    });\r\n\r\n    if (process.env.REACT_APP_COLLECTION_EVENT_LOG) {\r\n      const eventLogDocRef = doc(\r\n        store,\r\n        process.env.REACT_APP_COLLECTION_EVENT_LOG,\r\n        `event${eventLogIndex}`\r\n      );\r\n      await setDoc(eventLogDocRef, {\r\n        EventTime: currentDate,\r\n        EventLog: `set ${userName}`,\r\n      });\r\n    }\r\n\r\n    return { date: currentDate, name: userName };\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getEventLog } from \"../../logic/access\";\r\nimport { Text, Collapse, Button } from \"@blueprintjs/core\";\r\n\r\nexport const EventLog = (props: { date: Date; name: string }) => {\r\n  const type: { date: Date; text: string }[] = [];\r\n  const [logState, setLogState] = useState(type);\r\n  const [logVisiblity, setLogVisiblity] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getEventLog().then((log) => {\r\n      setLogState(log);\r\n    });\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => setLogVisiblity(!logVisiblity)}\r\n        minimal={true}\r\n        outlined={true}\r\n      >\r\n        {logVisiblity ? \"감추기\" : \"보이기\"}\r\n      </Button>\r\n      <Collapse isOpen={logVisiblity}>\r\n        <pre>\r\n          {logState.map((e, i: number) => {\r\n            return (\r\n              <Text key={i++}>\r\n                [{e.date.toLocaleString()}] {e.text}\r\n              </Text>\r\n            );\r\n          })}\r\n        </pre>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Bath from \"component/Bath\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Bath />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}